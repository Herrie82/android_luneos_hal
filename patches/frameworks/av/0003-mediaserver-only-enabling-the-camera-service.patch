From 5d5c28efc0906525545abb0e960ce6a6953107af Mon Sep 17 00:00:00 2001
From: Ricardo Salveti de Araujo <ricardo.salveti@canonical.com>
Date: Thu, 31 Oct 2013 13:40:13 +0200
Subject: [PATCH 03/10] mediaserver: only enabling the camera service

Change-Id: Iba661751b7e2d637e29bfe1dc475d3e84e36a396
Signed-off-by: Jani Monoses <jani@ubuntu.com>
Signed-off-by: Ricardo Salveti de Araujo <ricardo.salveti@canonical.com>
Signed-off-by: Ondrej Kubik <ondrej.kubik@canonical.com>
---
 media/mediaserver/main_mediaserver.cpp | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/media/mediaserver/main_mediaserver.cpp b/media/mediaserver/main_mediaserver.cpp
index f44ef72..c24f834 100644
--- a/media/mediaserver/main_mediaserver.cpp
+++ b/media/mediaserver/main_mediaserver.cpp
@@ -134,6 +134,8 @@ int main(int argc __unused, char** argv)
         sp<ProcessState> proc(ProcessState::self());
         sp<IServiceManager> sm = defaultServiceManager();
         ALOGI("ServiceManager: %p", sm.get());
+        /* For Ubuntu Touch we only want the CameraService to be up */
+        /*
         AudioFlinger::instantiate();
         MediaPlayerService::instantiate();
         CameraService::instantiate();
@@ -144,6 +146,8 @@ int main(int argc __unused, char** argv)
         AudioPolicyService::instantiate();
         SoundTriggerHwService::instantiate();
         registerExtensions();
+        */
+        CameraService::instantiate();
         ProcessState::self()->startThreadPool();
         IPCThreadState::self()->joinThreadPool();
     }
-- 
2.7.4

